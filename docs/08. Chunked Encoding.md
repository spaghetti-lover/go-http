# Chunked Encoding

## What

- Chunked Transfer Encoding is mechanism allow server to **send data in chunk**
- Format of one chunk

  ```php-template
  <chunk-size-hex>\r\n
  <chunk-data>\r\n
  ```

- End when meet (when meet chunk size = 0)

  ```bash
  0\r\n
  \r\n
  ```

## Why

- Can not know data size before hand:

  - Streaming large file
  - Live update (chat, logs, SSE-like)
  - Receive data in chunk from other API

- Real-time processing
- Reduce latency: No need to buffer all data

## How

1. Server send header: `Transfer-Encoding: chunked`.
2. Each time server has data, server send for example:

```
1E
I could go for a cup of coffee
```

3. After last chunk, sever send:

```
0\r\n
\r\n
``
```
